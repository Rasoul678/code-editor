/*! For license information please see 275.8775ef11.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkrasoulmedia_editor=self.webpackChunkrasoulmedia_editor||[]).push([[275],{3397:function(e,n,r){r.d(n,{Z:function(){return ne}});var t=r(8416),i=r(1413),o=r(9126),s=r(184),a=function(e){return(0,s.jsx)(o.B8K,(0,i.Z)({size:16,style:{margin:"0 0.3rem"},title:"format code"},e))},l="add-cell_addList__ljaye",c="add-cell_addList__buttons__xMzq9",d="add-cell_divider__zGMPR",u=r(8540),h=function(e){var n=e.previousCellID,r=void 0===n?null:n,t=(0,u.useStore)().actions;return(0,s.jsxs)("div",{className:l,children:[(0,s.jsxs)("div",{className:c,children:[(0,s.jsxs)("button",{title:"add code",className:"button is-primary is-rounded is-small",onClick:function(){return t.insertCellAfter("code",r)},children:[(0,s.jsx)(a,{})," Code"]}),(0,s.jsxs)("button",{title:"add text",className:"button is-primary is-rounded is-small",onClick:function(){return t.insertCellAfter("text",r)},children:[(0,s.jsx)(a,{})," Text"]})]}),(0,s.jsx)("div",{className:d})]})},m=r(978),f=function(e){return(0,s.jsx)(m.n9e,(0,i.Z)({fill:"orange",size:20,title:"format code"},e))},v=function(e){return(0,s.jsx)(o.P0p,(0,i.Z)({size:20,title:"delete",color:"crimson"},e))},p=function(e){return(0,s.jsx)(o.xkR,(0,i.Z)({size:20,title:"move down",color:"orange"},e))},x=function(e){return(0,s.jsx)(o.dnn,(0,i.Z)({size:20,title:"move up",color:"orange"},e))},g=function(e){var n=e.id,r=(0,u.useStore)().actions;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x,{onClick:function(){return r.moveCell("up",n)}}),(0,s.jsx)(p,{onClick:function(){return r.moveCell("down",n)}}),(0,s.jsx)(v,{onClick:function(){return r.deleteCell(n)}})]})},j=r(4165),_=r(5861),w="code-editor_editorWrapper__TbiVs",y="code-editor_formatterButton__x1g7B",b=r(2050),C=r.n(b),k=r(6723),E=r.n(k),z=r(9502),Z=r.n(z),N=r(7095),S=function(e){var n=e.defaultValue,r=e.onChange,i=(0,t.useId)(),o=(0,t.useRef)(null),a=(0,t.useCallback)((function(e,t){o.current=e,t.languages.typescript.typescriptDefaults.setCompilerOptions({jsx:t.languages.typescript.JsxEmit.Preserve,target:t.languages.typescript.ScriptTarget.ES2020,esModuleInterop:!0,moduleResolution:t.languages.typescript.ModuleResolutionKind.NodeJs});var i=new N.MonacoJsxSyntaxHighlight((0,N.getWorker)(),t).highlighterBuilder({editor:e}),s=i.highlighter,a=i.dispose;return s(),e.onDidChangeModelContent((function(){s();var n=e.getValue();null===r||void 0===r||r(n)})),l(n),a}),[n,r]),l=function(e){var n;if(e){var r=E().format(e,{parser:"babel",plugins:[Z()],useTabs:!1,singleQuote:!1,semi:!0}).replace(/\n$/,"");null===(n=o.current)||void 0===n||n.setValue(r)}};return(0,s.jsxs)("div",{className:w,children:[(0,s.jsx)("div",{className:"".concat(y),onClick:function(){var e,n=null===(e=o.current)||void 0===e?void 0:e.getValue();l(n)},children:(0,s.jsx)(f,{})}),(0,s.jsx)(C(),{className:"editor",height:"100%",language:"javascript",path:"file:///".concat(i,"-index.tsx"),theme:"vs-dark",defaultValue:n,onMount:a,options:{wordWrap:"on",minimap:{enabled:!1},showUnused:!0,folding:!1,lineNumbersMinChars:3,fontSize:18,scrollBeyondLastLine:!0,automaticLayout:!0,tabSize:2,lineHeight:30}})]})},M=(0,t.memo)(S),R='\n    <!DOCTYPE html>\n    <html lang="en">\n    <head>\n        <meta charset="UTF-8" />\n        <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n        <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n        <title>MeBox</title>\n    </head>\n    <body style=\'background-color: #fff;\'>\n        <div id="root"></div>\n        <script>\n            const handleError = (error) => {\n                const root = document.querySelector(\'#root\');\n                root.innerHTML = \'<div style="color: crimson;"><h4>Runtime Error:</h4>\' + error + \'</div>\';\n                console.error(error);\n            };\n\n            // async error handling\n            window.addEventListener(\'error\', (event) => {\n                // cancel default behavior\n                event.preventDefault();\n                handleError(event.error);\n            });\n\n            // sync error handling\n            window.addEventListener("message", (event) => {\n                try{\n                    eval(event.data);\n                } catch(error){\n                    handleError(error);\n                }\n            }, false);\n        <\/script>\n    </body>\n    </html>\n',L="preview_preview__iframe__uGyPc",T="preview_preview__error__hZQFJ",V=function(e){var n=e.code,r=e.err,i=(0,t.useId)(),o=(0,t.useRef)(null);return(0,t.useEffect)((function(){r||(o.current.srcdoc=R,setTimeout((function(){o.current.contentWindow.postMessage(n,"*")}),50))}),[n,r]),r?(0,s.jsxs)("div",{className:T,children:[(0,s.jsx)("b",{children:"Compile Error:"})," ",(0,s.jsx)("br",{})," ",r]}):(0,s.jsx)("iframe",{ref:o,title:"preview-".concat(i),sandbox:"allow-scripts",srcDoc:R,className:L})},D=(0,t.memo)(V),H=r(7691),W="resizable_resizable__Hhandle__FOCPE",B="resizable_resizable__Vhandle__OHrsV",F=function(e){var n=e.direction;return(0,s.jsx)("div",{className:"horizontal"===n?W:B,children:(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:"."}),(0,s.jsx)("span",{children:"."}),(0,s.jsx)("span",{children:"."})]})})},O=function(e){var n=e.direction,r=e.children,t=e.width,o=void 0===t?"100%":t,a=e.maxWidth,l=void 0===a?"100%":a;return(0,s.jsx)(H.Resizable,{defaultSize:{width:o,height:"auto"},minWidth:"30%",maxWidth:l,handleComponent:{right:(0,s.jsx)(F,{direction:"vertical"}),bottom:(0,s.jsx)(F,{direction:"horizontal"})},enable:(0,i.Z)({},"horizontal"===n?{right:!0}:{bottom:!0}),minHeight:"10vh",maxHeight:"80vh",children:r})},I="code-cell_cell__wrapper__VnWau",P="progress_progress__wrapper__2FXQd",J=function(e){return(0,s.jsx)("div",{className:P,children:(0,s.jsx)("progress",{className:"progress is-small is-primary",max:"100",children:"Loading"})})},q=r(7762),U=function(e){var n=e.cell,r=n.content,i=n.id,o=(0,u.useStore)(),a=o.actions,l=o.store,c=a.updateCell,d=a.createBundle,h=l.bundles[i],m=function(e){var n,r=(0,u.useStore)().store.cells,t=r.data,i=r.order.map((function(e){return t[e]})),o=[],s=(0,q.Z)(i);try{for(s.s();!(n=s.n()).done;){var a=n.value;if("code"===a.type&&(a.id===e?o.push("\n      import _React from 'react';\n      import _ReactDOM from 'react-dom';\n\n      var show = (value) => {\n      const rootElement = document.querySelector('#root');\n      const root = _ReactDOM.createRoot(rootElement);\n\n      if(typeof value === 'object'){\n          if(value.$$typeof && value.props){\n          root.render(value);\n          }else{\n          rootElement.innerHTML = JSON.stringify(value);\n          }\n      }else{\n          rootElement.innerHTML = value;\n      }\n\n      }\n  "):o.push("var show = () => {}"),o.push(a.content)),a.id===e)break}}catch(l){s.e(l)}finally{s.f()}return o.join("\n")}(n.id);return(0,t.useEffect)((function(){if(h){var e=setTimeout((0,_.Z)((0,j.Z)().mark((function e(){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d({id:i,input:m});case 1:case"end":return e.stop()}}),e)}))),600);return function(){clearTimeout(e)}}d({id:i,input:m})}),[m,i,d]),(0,s.jsx)(O,{direction:"vertical",children:(0,s.jsxs)("div",{className:I,children:[(0,s.jsx)(O,{direction:"horizontal",width:"50%",maxWidth:"70%",children:(0,s.jsx)(M,{defaultValue:r,onChange:function(e){return c(e,i)}})}),!h||h.bundling?(0,s.jsx)(J,{}):(0,s.jsx)(D,{code:h.code,err:h.error})]})})},A=r(9439),G=r(9041),Q=r.n(G),$=r(2246),K=r.n($),X=function(e){var n=e.cell,r=n.content,i=n.id,o=(0,t.useRef)(null),a=(0,t.useState)(!1),l=(0,A.Z)(a,2),c=l[0],d=l[1],h=(0,u.useStore)().actions;!function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mousedown";(0,t.useEffect)((function(){function t(r){var t=null===e||void 0===e?void 0:e.current;t&&!t.contains(r.target)&&n(r)}return document.addEventListener(r,t,{capture:!0}),function(){document.removeEventListener(r,t,{capture:!0})}}))}(o,(function(){return d(!1)}));return(0,s.jsxs)("div",{children:[c&&(0,s.jsx)("div",{ref:o,children:(0,s.jsx)(Q(),{value:r,onChange:function(e){h.updateCell(e||"",i)},previewOptions:{rehypePlugins:[[K()]]}})}),!c&&(0,s.jsx)("div",{className:"card",onClick:function(){return d(!0)},children:(0,s.jsx)("div",{className:"card-content",children:(0,s.jsx)(Q().Markdown,{source:r||"Click to edit!",style:{whiteSpace:"pre-wrap"}})})})]})},Y={position:"absolute",top:"0",right:"calc(50% - 2.7rem)",display:"flex",gap:"0.2rem",margin:"0.2rem",zIndex:"10",opacity:1},ee=function(e){var n=e.cell;return(0,s.jsx)("div",{style:{position:"relative",marginBottom:"2.5rem"},children:"code"===n.type?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:(0,i.Z)((0,i.Z)({},Y),{},{top:"-1.5rem"}),children:(0,s.jsx)(g,{id:n.id})}),(0,s.jsx)(U,{cell:n})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:(0,i.Z)({},Y),children:(0,s.jsx)(g,{id:n.id})}),(0,s.jsx)(X,{cell:n})]})})},ne=function(e){var n=(0,u.useStore)().store.cells,r=n.order,i=n.data,o=r.map((function(e){return i[e]}));return(0,s.jsxs)("div",{children:[(0,s.jsx)(h,{}),o.map((function(e){return(0,s.jsxs)(t.Fragment,{children:[(0,s.jsx)(ee,{cell:e}),(0,s.jsx)(h,{previousCellID:e.id})]},e.id)}))]})}},558:function(e,n,r){r.d(n,{G:function(){return c}});var t=r(4165),i=r(5861),o=r(9439),s=r(8416),a=r(9262),l=r.n(a),c=function(){var e=(0,s.useRef)(!1),n=(0,s.useState)(!1),r=(0,o.Z)(n,2),a=r[0],c=r[1],d=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().initialize({worker:!0,wasmURL:"https://unpkg.com/esbuild-wasm@0.15.16/esbuild.wasm"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){if(!e.current)try{d(),e.current=!0,c(!0)}catch(n){throw n}}),[]),a}}}]);
//# sourceMappingURL=275.8775ef11.chunk.js.map